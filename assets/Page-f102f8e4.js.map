{"version":3,"file":"Page-f102f8e4.js","sources":["../../src/constants/content.ts","../../src/hooks/useDocumentMeta.ts","../../src/components/layout/Page.tsx"],"sourcesContent":["export const PRIMARY_TITLE = \"Tim James\";\n\nexport const TITLE_SEPARATOR = \" | \";\n\nexport const DEFAULT_SUB_TITLE = \"Full-Stack Software Engineer ðŸš€\";\n\nexport const DEFAULT_DESCRIPTION =\n  \"Hi, I'm TJ, a full-stack software engineer from Canberra, Australia. \" +\n  \"I use TypeScript, React, Tailwind, and AWS. I'm a developer, cat lover, \" +\n  \"and nerd.\";\n","import {\n  DEFAULT_DESCRIPTION,\n  DEFAULT_SUB_TITLE,\n  PRIMARY_TITLE,\n  TITLE_SEPARATOR,\n} from \"@constants/content\";\nimport { useEffect, useRef } from \"react\";\n\n/**\n * Set the document meta attributes\n *\n * @param {string} title - meta title\n * @param {string} description - meta description\n * @param {boolean} [prevailOnUnmount=false] - If true, the title will be set\n * even if the component is unmounted.\n */\nconst useDocumentMeta = (\n  title?: string,\n  description?: string,\n  canonical?: string,\n  prevailOnUnmount = false\n) => {\n  const defaultTitle = useRef(document.title);\n  const defaultDescription = useRef(\n    // eslint-disable-next-line sonarjs/no-duplicate-string\n    document.querySelector(\"meta[name='description']\")?.getAttribute(\"content\")\n  );\n  const defaultCanonical = useRef(\n    // eslint-disable-next-line sonarjs/no-duplicate-string\n    document.querySelector(\"link[rel='canonical']\")?.getAttribute(\"href\")\n  );\n\n  useEffect(() => {\n    document.title = title\n      ? `${title}${TITLE_SEPARATOR}${PRIMARY_TITLE}`\n      : `${PRIMARY_TITLE}${TITLE_SEPARATOR}${DEFAULT_SUB_TITLE}`;\n\n    const descriptionRef = document.querySelector(\"meta[name='description']\");\n    descriptionRef &&\n      descriptionRef.setAttribute(\n        \"content\",\n        description ? description : DEFAULT_DESCRIPTION\n      );\n\n    const canonicalRef = document.querySelector(\"link[rel='canonical']\");\n    canonicalRef && canonical && canonicalRef.setAttribute(\"href\", canonical);\n  }, [canonical, description, title]);\n\n  useEffect(\n    () => () => {\n      if (!prevailOnUnmount) {\n        document.title = defaultTitle.current;\n\n        const descriptionRef = document.querySelector(\n          \"meta[name='description']\"\n        );\n        defaultDescription.current &&\n          descriptionRef?.setAttribute(\"content\", defaultDescription.current);\n\n        const canonicalRef = document.querySelector(\"link[rel='canonical']\");\n        defaultCanonical.current &&\n          canonicalRef?.setAttribute(\"href\", defaultCanonical.current);\n      }\n    },\n    [prevailOnUnmount]\n  );\n};\n\nexport default useDocumentMeta;\n","import useDocumentMeta from \"@hooks/useDocumentMeta\";\nimport cn from \"@styles/cssUtils\";\n\n/**\n * Wrapper for page content that sets the title.\n *\n * @param {{ title; content; }} { page title, inner content }\n */\nconst Page: React.FC<{\n  title?: string;\n  description?: string;\n  canonical?: string;\n  nonStandardLayout?: boolean;\n  content: JSX.Element;\n}> = ({ title, description, canonical, nonStandardLayout, content }) => {\n  useDocumentMeta(title, description, canonical);\n\n  // Only show the reCAPTCHA badge on specific routes\n  useEffect(() => {\n    const badge = document.querySelector(\".grecaptcha-badge\");\n    badge &&\n      (title === \"Contact\"\n        ? badge.classList.add(\"captcha-show\")\n        : badge.classList.remove(\"captcha-show\"));\n  }, [title]);\n\n  return nonStandardLayout ? (\n    content\n  ) : (\n    <>\n      <div className={cn(\"fixed bg-dark-shades w-screen h-screen -z-10\")} />\n      <div className={cn(\"my-10 mx-auto pt-10 px-8 container\")}>\n        <header\n          className={cn(\n            \"flex mx-auto items-center place-content-center px-8 text-center\",\n            \"flex-col\"\n          )}\n        >\n          <h1 className={cn(\"text-light-accent font-bold\")} id={title}>\n            {title}\n            <hr className={cn(\"radial-border\")} />\n          </h1>\n        </header>\n        <main>{content}</main>\n      </div>\n    </>\n  );\n};\n\nexport default Page;\n"],"names":["PRIMARY_TITLE","TITLE_SEPARATOR","DEFAULT_SUB_TITLE","DEFAULT_DESCRIPTION","useDocumentMeta","title","description","canonical","prevailOnUnmount","defaultTitle","useRef","defaultDescription","_a","defaultCanonical","_b","useEffect","descriptionRef","canonicalRef","Page","nonStandardLayout","content","badge","jsxs","Fragment","jsx","cn"],"mappings":"0FAAO,MAAMA,EAAgB,YAEhBC,EAAkB,MAElBC,EAAoB,kCAEpBC,EACX,yJCSIC,EAAkB,CACtBC,EACAC,EACAC,EACAC,EAAmB,KAChB,SACG,MAAAC,EAAeC,EAAAA,OAAO,SAAS,KAAK,EACpCC,EAAqBD,EAAA,QAEzBE,EAAA,SAAS,cAAc,0BAA0B,IAAjD,YAAAA,EAAoD,aAAa,UAAS,EAEtEC,EAAmBH,EAAA,QAEvBI,EAAA,SAAS,cAAc,uBAAuB,IAA9C,YAAAA,EAAiD,aAAa,OAAM,EAGtEC,EAAAA,UAAU,IAAM,CACL,SAAA,MAAQV,EACb,GAAGA,IAAQJ,IAAkBD,IAC7B,GAAGA,IAAgBC,IAAkBC,IAEnC,MAAAc,EAAiB,SAAS,cAAc,0BAA0B,EACxEA,GACEA,EAAe,aACb,UACAV,GAA4BH,CAAA,EAG1B,MAAAc,EAAe,SAAS,cAAc,uBAAuB,EACnEA,GAAgBV,GAAaU,EAAa,aAAa,OAAQV,CAAS,CACvE,EAAA,CAACA,EAAWD,EAAaD,CAAK,CAAC,EAElCU,EAAA,UACE,IAAM,IAAM,CACV,GAAI,CAACP,EAAkB,CACrB,SAAS,MAAQC,EAAa,QAE9B,MAAMO,EAAiB,SAAS,cAC9B,0BAAA,EAEFL,EAAmB,UACjBK,GAAA,MAAAA,EAAgB,aAAa,UAAWL,EAAmB,UAEvD,MAAAM,EAAe,SAAS,cAAc,uBAAuB,EACnEJ,EAAiB,UACfI,GAAA,MAAAA,EAAc,aAAa,OAAQJ,EAAiB,SACxD,CACF,EACA,CAACL,CAAgB,CAAA,CAErB,EC1DAU,EAAA,CAAA,CAAA,MAAAb,EAAA,YAAAC,EAAA,UAAAC,EAAA,kBAAAY,EAAA,QAAAC,MAOEhB,EAAAC,EAAAC,EAAAC,CAAA,EAGAQ,EAAAA,UAAA,IAAA,CACE,MAAAM,EAAA,SAAA,cAAA,mBAAA,EACAA,IAAAhB,IAAA,UAAAgB,EAAA,UAAA,IAAA,cAAA,EAAAA,EAAA,UAAA,OAAA,cAAA,EAG2C,EAAA,CAAAhB,CAAA,CAAA,EAG7Cc,EAAAC,EAAAE,EAAA,KAAAC,EAAA,SAAA,CAAA,SAAA,CAIIC,EAAA,IAAA,MAAA,CAAA,UAAAC,EAAA,8CAAA,CAAA,CAAA,EAAoEH,EAAA,KAAA,MAAA,CAAA,UAAAG,EAAA,oCAAA,EAAA,SAAA,CAElED,EAAA,IAAA,SAAC,CAAA,UAAAC,EACY,kEACT,UACA,EACF,SAAAH,EAAAA,KAAA,KAAA,CAAA,UAAAG,EAAA,6BAAA,EAAA,GAAApB,EAAA,SAAA,CAGGA,EAAAmB,EAAA,IAAA,KAAA,CAAA,UAAAC,EAAA,eAAA,CAAA,CAAA,CACmC,EAAA,CACtC,CAAA,EACFD,EAAAA,IAAA,OAAA,CAAA,SAAAJ,CAAA,CAAA,CACe,EAAA,CACjB,CAAA,CAAA"}