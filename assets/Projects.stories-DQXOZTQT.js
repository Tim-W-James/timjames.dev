import{j as r,c}from"./cssUtils-Dj2pf34W.js";import{F as te}from"./Footer-BGCcfuxc.js";import{N as oe,P as F}from"./Navbar-CqIHl1sY.js";import{R as B,P as se}from"./Page-dxZoy5ie.js";import{S as re}from"./ScrollToTop-JWgYK9c0.js";import{a as ne,B as ae}from"./index-CvhC5u5c.js";import{B as S}from"./Button-IaC728nH.js";import{S as ie,M as L}from"./MultiSelection-DRU1oZ5k.js";import{S as le}from"./SearchField-NV3GvcE2.js";import{a as ce,t as v,c as pe}from"./TimelineItem-BL1C1-o7.js";import{T as ue}from"./Timeline-BFhJVlss.js";import{c as de,b as me,a as he,s as fe}from"./timelineSortFuncs-BbWljJSU.js";import{u as ge,a as xe,d as A,e as R}from"./encodeQueryParams-CFkH-FTU.js";import{u as ye}from"./useMediaQuery-BBploh3g.js";import{r as s}from"./index-B3pBfn-S.js";import{F as Ce}from"./index-OpE8ryFg.js";import{c as je,h as Se}from"./index-CaI2xBWF.js";import"./iframe-DTAT43SC.js";import"../sb-preview/runtime.js";import"./logo-BsuX5xcP.js";import"./mouseHover-UyCq-Csl.js";import"./lib-eRFPSEAn.js";import"./_commonjsHelpers-BosuxZz1.js";import"./iconBase-D4H7oXXN.js";import"./index-8ORhBcDl.js";import"./index-MXY2PIJp.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-DeRUGyhV.js";import"./index-l6cHiWOH.js";import"./react-router-hash-link.esm-DJtgKKM8.js";import"./features-animation-CaQasyLA.js";const be=e=>s.isValidElement(e)&&!!e.props.children,T=be,ve=e=>s.isValidElement(e)&&T(e)&&s.Children.toArray(e.props.children).reduce((o,t)=>o||s.isValidElement(t),!1),g=ve,M=(e,o)=>s.Children.toArray(e).filter(o).map(t=>s.isValidElement(t)&&g(t)?s.cloneElement(t,{...t.props,children:M(t.props.children,o)}):t),z=M,G=(e,o)=>{let t;return s.Children.toArray(e).find((n,a,u)=>o(n,a,u)?(t=n,!0):s.isValidElement(n)&&g(n)?(t=G(n.props.children,o),typeof t<"u"):!1),t},Te=G,H=(e,o)=>{s.Children.forEach(e,(t,n)=>{s.isValidElement(t)&&g(t)&&H(t.props.children,o),o(t,n)})},we=H,I=(e,o)=>s.Children.toArray(e).map((t,n,a)=>s.isValidElement(t)&&g(t)?o(s.cloneElement(t,{...t.props,children:I(t.props.children,o)})):o(t,n,a)),Ee=I,Ne=(e,o)=>s.Children.toArray(e).filter(o),Pe=Ne,Oe=e=>s.isValidElement(e)?typeof e.type=="string"?e.type:e.type.name:null,Q=Oe,Fe=(e,o=[],t="rest")=>{const n=o.map(a=>typeof a=="string"?a:a.name);return s.Children.toArray(e).reduce((a,u)=>{const p=Q(u),d=p!==null&&n.includes(p)?p:t;return typeof a[d]>"u"&&(a[d]=[]),a[d]=[...a[d],u],a},{})},Be=Fe,$=e=>typeof e>"u"||e===null||typeof e=="boolean"||JSON.stringify(e)==="{}"?"":e.toString(),U=e=>!(e instanceof Array)&&!s.isValidElement(e)?$(e):s.Children.toArray(e).reduce((o,t)=>{let n="";return T(t)?n=U(t.props.children):s.isValidElement(t)?n="":n=$(t),o.concat(n)},""),Le=e=>z(e,o=>s.isValidElement(o)),Ae=Le,Re={...s.Children,deepFilter:z,deepFind:Te,deepForEach:we,deepMap:Ee,filter:Pe,getElementName:Q,groupByType:Be,hasChildren:T,hasComplexChildren:g,onlyText:U,onlyValid:Ae},k=Object.keys(ce).map(e=>{const o=v.filter(t=>{var n;return(n=t.technologies)==null?void 0:n.includes(e)}).length;return{value:e,count:o,label:`${e} (${o})`}}).filter(e=>e.count>0).sort((e,o)=>o.count-e.count),V=Object.keys(pe).map(e=>{const o=v.filter(t=>t.category===e).length;return{value:e,count:o,label:`${e} (${o})`}}).filter(e=>e.count>0).sort((e,o)=>o.count-e.count),$e=["Featured","Newest","Duration","Number of Technologies","Category"],j=$e.map(e=>({value:e,label:e})),y=j[0],ke=e=>{switch(e){case"Duration":return fe;case"Category":return he;case"Number of Technologies":return me;case"Featured":return de;default:return()=>0}},Ve=(e,o)=>{var n;const t=e.toLowerCase();return t.length===0&&!o.searchOnly||t.length>0&&((o.title.toLowerCase().includes(t)||Re.onlyText(o.body).toLowerCase().includes(t)||((n=o.technologies)==null?void 0:n.some(a=>a.toLowerCase().includes(t))))??o.category.toLowerCase().includes(t))},b=()=>{const[e,o]=s.useState([]),[t,n]=s.useState([]),[a,u]=s.useState(y),[p,d]=s.useState(""),q=s.useCallback(i=>{i.preventDefault(),d(i.target.value)},[]),[K,w]=s.useState(!1),E=s.useCallback(()=>{o([]),n([]),u(y),d(""),w(!0),setTimeout(()=>{w(!1)},500)},[]),N=ye("(max-width: 500px)"),P=ne(),[x,X]=ge("projectOptions",{technologies:[],categories:[],sort:y,searchText:""}),h=xe();s.useEffect(()=>{if(h.toString()){if(h.get("reset"))return E(),P({hash:window.location.hash,search:""},{replace:!0}),()=>{};o([]),A(h.get("technologies")??"").forEach(i=>{const l=k.find(m=>m.value.toLowerCase()===i.toLowerCase());l&&o(m=>[...m,l])}),n([]),A(h.get("categories")??"").forEach(i=>{const l=V.find(m=>m.value.toLowerCase()===i.toLowerCase());l&&n(m=>[...m,l])}),u(j.find(i=>{var l;return i.value.toLowerCase()===((l=h.get("sort"))==null?void 0:l.toLowerCase())})??y),d(h.get("searchText")??"")}else o(x.technologies),n(x.categories),u(x.sort),d(x.searchText);return()=>{}},[]),s.useEffect(()=>{var i;X({technologies:e,categories:t,sort:a,searchText:p}),P({hash:window.location.hash,search:`?${new URLSearchParams(JSON.parse(JSON.stringify({technologies:R(e.map(l=>l.value))||void 0,categories:R(t.map(l=>l.value))||void 0,sort:a.value===((i=j[0])==null?void 0:i.value)?void 0:a.value,searchText:p||void 0}))).toString()}`},{replace:!0})},[p,t,a,e]);const Y=s.useCallback(i=>{const l=e.map(f=>f.value),m=l.length===0||i.technologies&&i.technologies.filter(f=>l.includes(f)).length>0,O=t.map(f=>f.value),ee=O.length===0||O.includes(i.category);return!!(m&&ee&&Ve(p,i))},[p,t,e]),Z=s.useCallback(()=>window.scrollTo({top:0,behavior:"smooth"}),[]);return r.jsx("div",{children:r.jsxs(Ce,{transitionDuration:200,children:[r.jsx("div",{className:c("mb-8 flex justify-center"),children:r.jsx(S,{icon:r.jsx(je,{}),isLight:!0,label:"GitHub",to:"https://github.com/Tim-W-James",tooltip:"Find more projects on GitHub"})}),r.jsxs("section",{"aria-label":"Search Controls",className:c("mx-auto mb-4 flex place-content-center items-center max-md:mb-8","flex-col"),children:[r.jsxs("div",{className:c("flex w-full gap-4"),children:[r.jsx(le,{handleChange:q,searchText:p}),r.jsx(S,{childProps:{onClick:E,type:"reset"},className:N?c("!-mt-1 !px-2 !py-2 !text-3xl"):c("!-mt-1","!h-[50px]","!py-0"),icon:K?r.jsx("span",{className:c("inline-block","leading-0","motion-safe:animate-spin"),children:r.jsx(B,{})}):r.jsx(B,{}),iconRight:!0,isLabelHidden:N,isLight:!0,label:"Reset",mode:"button",tooltip:"Reset search and filter options"})]}),r.jsxs("div",{className:c("flex w-full gap-4","flex-wrap"),children:[r.jsx("div",{className:c("z-30 min-w-fit grow"),children:r.jsx(ie,{options:j,selectedOption:a,setSelectedOption:u})}),r.jsx("div",{className:c("z-20 grow"),children:r.jsx(L,{options:V,placeholder:"Filter by category...",selectedOptions:t,setSelectedOptions:n})}),r.jsx("div",{className:c("z-10 grow"),children:r.jsx(L,{options:k,placeholder:"Filter by technology...",selectedOptions:e,setSelectedOptions:o})})]})]}),r.jsxs("section",{"aria-label":"Timeline",className:c("mb-8"),id:"timeline",children:[r.jsx(ue,{data:v,filterFunc:Y,sortFunc:ke(a.value)}),r.jsx("div",{className:c("flex justify-center"),children:r.jsx(S,{childProps:{onClick:Z},icon:r.jsx(Se,{}),isLight:!0,label:"Back to top",mode:"button",tooltip:"Back to top"})})]})]})})},W=b;try{b.displayName="Projects",b.__docgenInfo={description:"",displayName:"Projects",props:{}}}catch{}const ht={component:W,parameters:{backgrounds:{disable:!0},controls:{hideNoControlsWarning:!0}}},C=()=>r.jsxs(ae,{children:[r.jsx(re,{}),r.jsx(oe,{}),r.jsx(se,{description:F.description,title:F.title,children:r.jsx(W,{})}),r.jsx(te,{allowFixed:!0})]});var _,J,D;C.parameters={...C.parameters,docs:{...(_=C.parameters)==null?void 0:_.docs,source:{originalSource:`() => <Router>
    <ScrollToTop />
    <Navbar />
    <Page description={PROJECTS.description} title={PROJECTS.title}>
      <ProjectsPage />
    </Page>
    <Footer allowFixed />
  </Router>`,...(D=(J=C.parameters)==null?void 0:J.docs)==null?void 0:D.source}}};const ft=["Projects"];export{C as Projects,ft as __namedExportsOrder,ht as default};
