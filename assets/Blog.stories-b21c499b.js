import{j as e,c as r}from"./cssUtils-31b06496.js";import{F as R}from"./Footer-7bbd7e9b.js";import{P as F}from"./Page-8cf8f9bd.js";import{N as O,B as j}from"./Navbar-67bbd5d5.js";import{S as T}from"./ScrollToTop-37924711.js";import{B as C}from"./index-b8809eaa.js";import{r as l}from"./index-f1f749bf.js";import{B as m}from"./Button-c205ee83.js";import{C as P,L as k}from"./LoadingCard-a0504911.js";import{S as A,M as D}from"./MultiSelection-cbf48b3e.js";import{S as E}from"./SearchField-9123b040.js";import{u as M}from"./useDevdottoArticlesMeta-45a66807.js";import{R as S}from"./index.esm-468f0474.js";import{V as G,W as Q}from"./index.esm-568cca05.js";import"./useMediaQuery-f3cc2322.js";import"./logo-7615857d.js";import"./motion-b4596a51.js";import"./mouseHover-f6e29944.js";import"./_commonjsHelpers-042e6b4d.js";import"./index.esm-51a0c2e2.js";import"./iconBase-4e3618d4.js";import"./extends-08eae36a.js";import"./inheritsLoose-5ea60741.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-3d5299f2.js";import"./index-96c5f47c.js";const $=["Popularity","Latest","Quick Reads"],p=$.map(t=>({value:t,label:t})),b=(t,o)=>o.public_reactions_count-t.public_reactions_count,z=(t,o)=>t.reading_time_minutes-o.reading_time_minutes,V=(t,o)=>new Date(o.published_timestamp).getTime()-new Date(t.published_timestamp).getTime(),W=t=>{switch(t){case"Latest":return V;case"Quick Reads":return z;case"Popularity":return b;default:return()=>0}},I=(t,o)=>{const a=t.toLowerCase();return a.length===0||o.title.toLowerCase().includes(a)||o.description.toLowerCase().includes(a)||o.tag_list.some(c=>c.toLowerCase().includes(a))},q=()=>{const t=M(100),[o,a]=l.useState([]),[c,u]=l.useState(p[0]),[B,_]=l.useState([]),[x,f]=l.useState("");l.useEffect(()=>{_(t.loading?[]:[...new Set(t.articles.flatMap(s=>s.tag_list))].map(s=>{const i=t.articles.filter(n=>n.tag_list.includes(s)).length;return{value:s,count:i,label:`${s} (${i})`}}).filter(s=>s.count>0).sort((s,i)=>i.count-s.count))},[t.articles,t.loading]);const y=s=>{s.preventDefault(),f(s.target.value)},[N,g]=l.useState(!1),L=()=>{a([]),u(p[0]),f(""),g(!0),setTimeout(()=>{g(!1)},500)},h=t.loading?[]:t.articles.sort(b).sort(W(c.value)).filter(s=>{const i=o.map(n=>n.value);return I(x,s)&&(o.length===0||s.tag_list.filter(n=>i.includes(n)).length!==0)}).map((s,i)=>e.jsx(P,{article:s},i));return e.jsx("div",{children:e.jsxs("section",{children:[e.jsxs("div",{className:r("flex gap-4 justify-center items-center max-w-2xl mx-auto mb-8","flex-row","flex-wrap"),children:[e.jsx(m,{icon:e.jsx(G,{}),isLight:!0,label:"DEV.to",to:"https://dev.to/timwjames",tooltip:"Find my personal blog @timwjames"}),e.jsx(m,{icon:e.jsx(Q,{}),isLight:!0,label:"Medium",to:"https://medium.com/@twjames",tooltip:"Find my professional @twjames"})]}),e.jsxs("div",{className:r("flex mx-auto items-center place-content-center mb-4","flex-col"),children:[e.jsxs("div",{className:r("w-full flex gap-4"),children:[e.jsx(E,{handleChange:y,searchText:x}),e.jsx(m,{className:r("h-11","flex"),icon:N?e.jsx("span",{className:r("inline-block","leading-0","motion-safe:animate-spin"),children:e.jsx(S,{})}):e.jsx(S,{}),iconRight:!0,isLight:!0,label:"Reset",mode:"button",onClick:L,tooltip:"Reset search and filters options"})]}),e.jsxs("div",{className:r("flex gap-4 w-full","flex-wrap"),children:[e.jsx("div",{className:r("z-30 grow min-w-fit"),children:e.jsx(A,{options:p,selectedOption:c,setSelectedOption:u})}),e.jsx("div",{className:r("z-20 grow"),children:e.jsx(D,{options:B,placeholder:"Filter by tags...",selectedOptions:o,setSelectedOptions:a})})]})]}),e.jsx("div",{className:r("flex gap-4 p-0 justify-center","flex-wrap"),children:t.loading?[...Array(6).keys()].map(s=>e.jsx(k,{},s)):h.length===0?e.jsxs("div",{className:r("text-center mb-8 text-xl "),children:[e.jsx("span",{className:r("text-danger"),children:"No Articles Found"})," - Try a different filter"]}):h})]})})},v=q,je={component:v,parameters:{backgrounds:{disable:!0},controls:{hideNoControlsWarning:!0}}},d=()=>e.jsxs(C,{children:[e.jsx(T,{}),e.jsx(O,{}),e.jsx(F,{content:e.jsx(v,{}),description:j.description,title:j.title}),e.jsx(R,{allowFixed:!0})]});var w;d.parameters={...d.parameters,storySource:{source:`() => <Router>
    <ScrollToTop />
    <Navbar />
    <Page content={<BlogPage />} description={BLOG.description} title={BLOG.title} />
    <Footer allowFixed />
  </Router>`,...(w=d.parameters)==null?void 0:w.storySource}};const Se=["Blog"];export{d as Blog,Se as __namedExportsOrder,je as default};
//# sourceMappingURL=Blog.stories-b21c499b.js.map
