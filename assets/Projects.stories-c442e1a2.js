import{j as r,c}from"./cssUtils-781a8f60.js";import{F as K}from"./Footer-8882f1c4.js";import{P as X}from"./Page-02849746.js";import{N as Y,P as O}from"./Navbar-43ebe3b2.js";import{S as Z}from"./ScrollToTop-64b74ea4.js";import{a as ee,B as te}from"./index-733821c1.js";import{r as s}from"./index-f1f749bf.js";import{B as j}from"./Button-6851bd38.js";import{S as oe,M as P}from"./MultiSelection-4f3a3e8b.js";import{S as se}from"./SearchField-927d067a.js";import{b as re,t as v,c as ne}from"./TimelineItem-c7e919a9.js";import{T as ae}from"./Timeline-318aec71.js";import{c as ie,b as le,a as ce,s as pe}from"./timelineSortFuncs-ea2c891a.js";import{u as ue,a as de,d as F,e as B,R as L}from"./index.esm-bac33e84.js";import{d as me,n as fe}from"./index.esm-fa6ef5c1.js";import"./useMediaQuery-f3cc2322.js";import"./logo-7615857d.js";import"./motion-bdaaa78f.js";import"./mouseHover-f6e29944.js";import"./lib-3be3408a.js";import"./_commonjsHelpers-042e6b4d.js";import"./hoist-non-react-statics.cjs-63c3687f.js";import"./extends-34e645d9.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-3d5299f2.js";import"./index-96c5f47c.js";import"./index.esm-568cca05.js";import"./iconBase-4e3618d4.js";import"./react-router-hash-link.esm-14125319.js";const ge=e=>s.isValidElement(e)&&Boolean(e.props.children),C=ge,he=e=>s.isValidElement(e)&&C(e)&&s.Children.toArray(e.props.children).reduce((o,t)=>o||s.isValidElement(t),!1),y=he,_=(e,o)=>s.Children.toArray(e).filter(o).map(t=>s.isValidElement(t)&&y(t)?s.cloneElement(t,{...t.props,children:_(t.props.children,o)}):t),k=_,J=(e,o)=>{let t;return s.Children.toArray(e).find((n,a,u)=>o(n,a,u)?(t=n,!0):s.isValidElement(n)&&y(n)?(t=J(n.props.children,o),typeof t<"u"):!1),t},ye=J,D=(e,o)=>{s.Children.forEach(e,(t,n)=>{s.isValidElement(t)&&y(t)&&D(t.props.children,o),o(t,n)})},xe=D,z=(e,o)=>s.Children.toArray(e).map((t,n,a)=>s.isValidElement(t)&&y(t)?o(s.cloneElement(t,{...t.props,children:z(t.props.children,o)})):o(t,n,a)),Ce=z,je=(e,o)=>s.Children.toArray(e).filter(o),Se=je,be=e=>s.isValidElement(e)?typeof e.type=="string"?e.type:e.type.name:null,G=be,ve=(e,o=[],t="rest")=>{const n=o.map(a=>typeof a=="string"?a:a.name);return s.Children.toArray(e).reduce((a,u)=>{const p=G(u),d=p!==null&&n.includes(p)?p:t;return typeof a[d]>"u"&&(a[d]=[]),a[d]=[...a[d],u],a},{})},Te=ve,A=e=>typeof e>"u"||e===null||typeof e=="boolean"||JSON.stringify(e)==="{}"?"":e.toString(),H=e=>!(e instanceof Array)&&!s.isValidElement(e)?A(e):s.Children.toArray(e).reduce((o,t)=>{let n="";return s.isValidElement(t)&&C(t)?n=H(t.props.children):s.isValidElement(t)&&!C(t)?n="":n=A(t),o.concat(n)},""),we=H,Ee=e=>k(e,o=>s.isValidElement(o)),Ne=Ee,Oe={...s.Children,deepFilter:k,deepFind:ye,deepForEach:xe,deepMap:Ce,filter:Se,getElementName:G,groupByType:Te,hasChildren:C,hasComplexChildren:y,onlyText:we,onlyValid:Ne},R=Object.keys(re).map(e=>{const o=v.filter(t=>{var n;return(n=t.technologies)==null?void 0:n.includes(e)}).length;return{value:e,count:o,label:`${e} (${o})`}}).filter(e=>e.count>0).sort((e,o)=>o.count-e.count),$=Object.keys(ne).map(e=>{const o=v.filter(t=>t.category===e).length;return{value:e,count:o,label:`${e} (${o})`}}).filter(e=>e.count>0).sort((e,o)=>o.count-e.count),Pe=["Featured","Newest","Duration","Number of Technologies","Category"],f=Pe.map(e=>({value:e,label:e})),Fe=e=>{switch(e){case"Duration":return pe;case"Category":return ce;case"Number of Technologies":return le;case"Featured":return ie;default:return()=>0}},Be=(e,o)=>{var n;const t=e.toLowerCase();return t.length===0||o.title.toLowerCase().includes(t)||Oe.onlyText(o.body).toLowerCase().includes(t)||((n=o.technologies)==null?void 0:n.some(a=>a.toLowerCase().includes(t)))||o.category.toLowerCase().includes(t)},b=()=>{const[e,o]=s.useState([]),[t,n]=s.useState([]),[a,u]=s.useState(f[0]),[p,d]=s.useState(""),I=i=>{i.preventDefault(),d(i.target.value)},[U,T]=s.useState(!1),w=()=>{o([]),n([]),u(f[0]),d(""),T(!0),setTimeout(()=>{T(!1)},500)},E=ee(),[x,W]=ue("projectOptions",{technologies:[],categories:[],sort:f[0],searchText:""}),g=de();s.useEffect(()=>{if(g.toString()){if(g.get("reset"))return w(),E({hash:window.location.hash,search:""},{replace:!0}),()=>{};o([]),F(g.get("technologies")||"").forEach(i=>{const l=R.find(m=>m.value.toLowerCase()===i.toLowerCase());l&&o(m=>[...m,l])}),n([]),F(g.get("categories")||"").forEach(i=>{const l=$.find(m=>m.value.toLowerCase()===i.toLowerCase());l&&n(m=>[...m,l])}),u(f.find(i=>{var l;return i.value.toLowerCase()===((l=g.get("sort"))==null?void 0:l.toLowerCase())})||f[0]),d(g.get("searchText")||"")}else o(x.technologies),n(x.categories),u(x.sort),d(x.searchText);return()=>{}},[]),s.useEffect(()=>{var i;W({technologies:e,categories:t,sort:a,searchText:p}),E({hash:window.location.hash,search:"?"+new URLSearchParams(JSON.parse(JSON.stringify({technologies:B(e.map(l=>l.value))||void 0,categories:B(t.map(l=>l.value))||void 0,sort:a.value===((i=f[0])==null?void 0:i.value)?void 0:a.value,searchText:p||void 0}))).toString()},{replace:!0})},[p,t,a,e]);const q=s.useCallback(i=>{const l=e.map(h=>h.value),m=l.length===0||i.technologies&&i.technologies.filter(h=>l.includes(h)).length>0,N=t.map(h=>h.value),Q=N.length===0||N.includes(i.category);return!!(m&&Q&&Be(p,i))},[p,t,e]);return r.jsxs("div",{children:[r.jsx("div",{className:c("flex justify-center mb-8"),children:r.jsx(j,{icon:r.jsx(me,{}),isLight:!0,label:"GitHub",to:"https://github.com/Tim-W-James",tooltip:"Find more projects on GitHub"})}),r.jsxs("section",{"aria-label":"Search Controls",className:c("flex mx-auto items-center place-content-center mb-4 max-md:mb-8","flex-col"),children:[r.jsxs("div",{className:c("w-full flex gap-4"),children:[r.jsx(se,{handleChange:I,searchText:p}),r.jsx(j,{className:c("text-3xl !px-2 py-2 -mt-1"),icon:U?r.jsx("span",{className:c("inline-block","leading-0","motion-safe:animate-spin"),children:r.jsx(L,{})}):r.jsx(L,{}),iconRight:!0,isLabelHidden:!0,isLight:!0,label:"Reset",mode:"button",onClick:w,tooltip:"Reset search and filter options"})]}),r.jsxs("div",{className:c("flex gap-4 w-full","flex-wrap"),children:[r.jsx("div",{className:c("z-30 grow min-w-fit"),children:r.jsx(oe,{options:f,selectedOption:a,setSelectedOption:u})}),r.jsx("div",{className:c("z-20 grow"),children:r.jsx(P,{options:$,placeholder:"Filter by category...",selectedOptions:t,setSelectedOptions:n})}),r.jsx("div",{className:c("z-10 grow"),children:r.jsx(P,{options:R,placeholder:"Filter by technology...",selectedOptions:e,setSelectedOptions:o})})]})]}),r.jsxs("section",{"aria-label":"Timeline",className:c("mb-8"),id:"timeline",children:[r.jsx(ae,{data:v,filterFunc:q,sortFunc:Fe(a.value)}),r.jsx("div",{className:c("flex justify-center"),children:r.jsx(j,{icon:r.jsx(fe,{}),isLight:!0,label:"Back to top",mode:"button",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),tooltip:"Back to top"})})]})]})},M=b;try{b.displayName="Projects",b.__docgenInfo={description:"",displayName:"Projects",props:{}}}catch{}const at={component:M,parameters:{backgrounds:{disable:!0},controls:{hideNoControlsWarning:!0}}},S=()=>r.jsxs(te,{children:[r.jsx(Z,{}),r.jsx(Y,{}),r.jsx(X,{content:r.jsx(M,{}),description:O.description,title:O.title}),r.jsx(K,{allowFixed:!0})]});var V;S.parameters={...S.parameters,storySource:{source:`() => <Router>
    <ScrollToTop />
    <Navbar />
    <Page content={<ProjectsPage />} description={PROJECTS.description} title={PROJECTS.title} />
    <Footer allowFixed />
  </Router>`,...(V=S.parameters)==null?void 0:V.storySource}};const it=["Projects"];export{S as Projects,it as __namedExportsOrder,at as default};
//# sourceMappingURL=Projects.stories-c442e1a2.js.map
